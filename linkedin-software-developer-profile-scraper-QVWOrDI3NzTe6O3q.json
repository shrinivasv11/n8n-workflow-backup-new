{"updatedAt":"2025-11-25T08:01:11.445Z","createdAt":"2025-11-25T07:50:00.204Z","id":"QVWOrDI3NzTe6O3q","name":"LinkedIn Software Developer Profile Scraper","active":false,"isArchived":true,"nodes":[{"parameters":{},"id":"a33eab80-231c-4027-b58d-eabe24923481","name":"Start","type":"n8n-nodes-base.start","typeVersion":1,"position":[-1120,112]},{"parameters":{"values":{"string":[{"name":"profileUrls","value":"[\"https://www.linkedin.com/in/example-profile/\"]"},{"name":"li_at","value":"li_at_zExafOtVLn10VL0oGRLM84rK.Q9Arilr8bEeJr20YYw-1764056912-1.0.1.1-8y3hu1A5gjJVvX5SljlHJa7mMarDAtClguCoR247iJ8UtoR3N9KIZd3y1A6VPo8_K.mujKGYBL7JjBTDJqLCz4O5oxBGE7g3qu8MKqkMOEk"}]},"options":{}},"id":"2cc6ad41-3c8e-41ec-914b-8a98623a2d2e","name":"Set Input","type":"n8n-nodes-base.set","typeVersion":1,"position":[-896,112]},{"parameters":{"functionCode":"const urls = [];\ntry {\n  const parsed = JSON.parse(items[0].json.profileUrls || '[]');\n  if (Array.isArray(parsed)) parsed.forEach(u => urls.push({ json: { profileUrl: u, li_at: items[0].json.li_at } }));\n} catch (e) {\n  // if user supplied a single string\n  if (items[0].json.profileUrls) urls.push({ json: { profileUrl: items[0].json.profileUrls, li_at: items[0].json.li_at } });\n}\nreturn urls;"},"id":"388ecc5d-4c82-45f9-aadd-08b6d9da7322","name":"Prepare URL List","type":"n8n-nodes-base.function","typeVersion":1,"position":[-672,112]},{"parameters":{"batchSize":1,"options":{}},"id":"b42ec1b3-1233-4317-81f6-ebb7ec8f4c34","name":"Split In Batches","type":"n8n-nodes-base.splitInBatches","typeVersion":1,"position":[-464,112]},{"parameters":{"url":"={{$json.profileUrl}}","responseFormat":"string","options":{"followAllRedirects":true,"ignoreResponseCode":false}},"id":"b9e65150-b631-411a-bae1-5e7c591cd7bc","name":"Fetch Profile HTML","type":"n8n-nodes-base.httpRequest","typeVersion":1,"position":[-240,112]},{"parameters":{"options":{}},"id":"08f1e265-1e6a-4d4e-b942-bc7de5d5da50","name":"HTML Extract","type":"n8n-nodes-base.htmlExtract","typeVersion":1,"position":[-16,112]},{"parameters":{"functionCode":"function stripTags(html){ return (html||'').replace(/<[^>]*>/g,' ').replace(/\\s+/g,' ').trim(); }\n\nconst out = {};\nout.profileUrl = items[0].json.profileUrl || null;\nout.name = stripTags(items[0].json.name);\nout.headline = stripTags(items[0].json.headline);\nout.location = stripTags(items[0].json.location);\nout.about = stripTags(items[0].json.about);\n\n// Skills: extracted items might be fragments\nout.skills = [];\nif (items[0].json.skills && Array.isArray(items[0].json.skills)){\n  items[0].json.skills.forEach(s => {\n    const t = stripTags(s);\n    if (t) out.skills.push(t);\n  });\n}\n\n// Experiences: HTML fragments - attempt to parse lines: title @ company · dates · location\nout.experiences = [];\nconst rawExps = items[0].json.experiences || [];\nfor (let i=0;i<rawExps.length;i++){\n  const raw = rawExps[i] || '';\n  const text = stripTags(raw);\n  // Attempt heuristic splits\n  const lines = text.split('\\n').map(l=>l.trim()).filter(Boolean);\n  const exp = { raw: text };\n  if (lines.length>0) exp.head = lines[0];\n  // try to parse title and company from first line if format 'Title at Company'\n  const m = exp.head && exp.head.match(/^(.+) at (.+)$/i);\n  if (m){ exp.title = m[1].trim(); exp.company = m[2].trim(); }\n  // find date-like line\n  const dateLine = lines.find(l => /\\d{4}|Present|Present\\b|–|-/i.test(l));\n  if (dateLine) exp.dates = dateLine;\n  if (lines.length>1) exp.details = lines.slice(1).join(' | ');\n  out.experiences.push(exp);\n}\n\n// Education\nout.education = [];\nconst rawEdu = items[0].json.education || [];\nfor (let i=0;i<rawEdu.length;i++){\n  const t = stripTags(rawEdu[i]);\n  if (t) out.education.push(t);\n}\n\n// Contact\nout.contact = [];\nconst rawContact = items[0].json.contact || [];\nif (Array.isArray(rawContact)){\n  rawContact.forEach(c => { const t = stripTags(c); if (t) out.contact.push(t); });\n}\n\n// Heuristics for current role: pick first experience entry as current if dates contains 'Present'\nconst current = out.experiences.find(e => (e.dates||'').toLowerCase().includes('present')) || out.experiences[0] || null;\nif (current){ out.currentTitle = current.title || null; out.currentCompany = current.company || null }\n\nreturn [{ json: out }];"},"id":"476ee1b2-66a0-4231-aa2f-32f1c86da506","name":"Format Output","type":"n8n-nodes-base.function","typeVersion":1,"position":[208,112]},{"parameters":{},"id":"8cf48669-ebd3-466c-be0b-d1110bf2bb91","name":"Merge Back","type":"n8n-nodes-base.merge","typeVersion":1,"position":[432,112]},{"parameters":{"options":{}},"id":"2b540e5d-02d5-4d8d-922f-d2648955463d","name":"Write to File","type":"n8n-nodes-base.writeBinaryFile","typeVersion":1,"position":[656,112]}],"connections":{"Start":{"main":[[{"node":"Set Input","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"ee4aa889-621f-44d9-b4a4-6dd325dd5ca7","triggerCount":0,"shared":[{"updatedAt":"2025-11-25T07:50:00.204Z","createdAt":"2025-11-25T07:50:00.204Z","role":"workflow:owner","workflowId":"QVWOrDI3NzTe6O3q","projectId":"tsuA2t8C154Ytetn"}],"tags":[]}